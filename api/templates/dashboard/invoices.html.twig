{% extends 'dashboard/dashboard.html.twig' %}

{% block pageContent %}
    <div class="container-md">
        <div class="row">
            <div class="col-12 col-md-3">

                {% set activeItem = 'invoices' %}
                {% include 'dashboard/sidenavbar.html.twig' %}

            </div>

            <div class="col-12 col-md-9">
                <div class="card card-bleed shadow-light-lg">
                    <div class="card-header">

                        <!-- Heading -->
                        <h4 class="mb-0">
                            {{'invoice History'|trans|capitalize}}
                        </h4>

                    </div>
                    {% if invoices is defined and invoices is not empty %}
                    <div class="card-body">

                        <!-- List group -->
                        <div class="list-group list-group-flush">
                            {% for invoice in invoices %}
                            <div class="list-group-item">
                                <div class="row align-items-center">
                                    <div class="col">

                                        <!-- Heading -->
                                        <p class="mb-0">
                                            <a href="{{ path('app_dashboard_invoice', {id: invoice.id}) }}">{{'invoice'|trans|capitalize}} {{ invoice.name }}</a>
                                        </p>

                                        <!-- Text -->
                                        <small class="text-gray-700">
                                            {{'billed'|trans|capitalize}}
                                            {{ invoice.dateCreated|date("d-m-Y") }}
                                        </small>

                                    </div>
                                    <div class="col-auto">
                                        <!-- Button -->
                                        {#add path#}
                                        <button class="btn btn-xs btn-outline-white">
                                            <a href="{{ path('app_dashboard_invoice', {id: invoice.id}) }}" style="color: black"> {{ 'view details'|trans|capitalize }}</a>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>

                    </div>
                    {% else %}
                    <h4>{{ 'no invoices found'|trans|capitalize }}</h4>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
